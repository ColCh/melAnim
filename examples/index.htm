<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8"/>
    <title> melAnim.js test </title>
    <style>

        @-webkit-keyframes tst {
            50% {
                height: 100px;
            }
        }

        @keyframes test {
            50% {
                height: 100px;
            }
        }

        article, aside, figure, footer, header, hgroup, menu, nav, section {
            display: block;
        }

        .css {

            -webkit-animation-name: tst_;
            -webkit-animation-duration: 3s;
            -webkit-animation-iteration-count: infinite;
            -webkit-animation-timing-function: ease-in;
            -webkit-animation-delay: 0s;
            -webkit-animation-fill-mode: both;
            -webkit-animation-direction: alternate;

            animation-name: test_;
            animation-duration: 3s;
            animation-iteration-count: infinite;
            animation-timing-function: ease-in;
            animation-play-state: running;
        }

        .anim {
            border: 1px black solid;
            position: absolute;
            width: 10px;
        }

        body {
            background-color: gray;
            padding: 0px;
            position: relative;
            height: 450px;
            border: 1px #ff0000 dashed;
            margin-top: 50px;
        }
    </style>
</head>
<body>

<div id="fps" style="position: absolute; top: 0; left: 0; font-size: 22px; color: red;">FPS HERE</div>

<div style="top: 10%;" class="anim css" id="css">Anim me ONE!</div>
<div style="top: 20%;" class="anim js" id="js">Anim me TWO!</div>

<script>
    var PROFILE_ENABLED = 0;

    var PROFILE_FPS = 0 && PROFILE_ENABLED;
    var PROFILE_START = 1 && PROFILE_ENABLED;
    var PROFILE_CONSTRUCTOR = 1 && PROFILE_ENABLED;
    var PROFILE_SETUP = 1 && PROFILE_ENABLED;
    var PROFILE_PROCESS = 1 && PROFILE_ENABLED;

    if (PROFILE_START) console.profile("startup");
</script>
<script type="text/javascript" src="../dist/mel-anim.adv.js"></script>
<script type="text/javascript">

    if (PROFILE_START) console.profileEnd("startup");

    if (PROFILE_CONSTRUCTOR) console.profile("constructor");
    var anim = new melAnim.Animation();
    if (PROFILE_CONSTRUCTOR) console.profileEnd("constructor");

    if (PROFILE_SETUP) console.profile("setup");

    anim.addElement(document.getElementById("css"));

    anim.propAt("width", "300px");
    //anim.propAt("width", "300px", "90%");
    //anim.propAt("width", "550px", "100%");

    //anim.propAt("height", "50px", "0%");
    //anim.propAt("height", "250px", "90%");

    anim.easing("ease");
    //anim.easing("ease-out", "30%");

    //anim.direction("alternate");

    anim.duration("2.5s");

    //anim.iterationCount("infinite");

    //anim.delay("500ms");

    anim.fillMode("none");

    anim.onComplete(function () {
        document.body.style.backgroundColor = 'green';
        //anim.destruct();
        if (PROFILE_PROCESS) console.profileEnd("animation process");
    });

    if (PROFILE_SETUP) console.profileEnd("setup");

    if (PROFILE_PROCESS) console.profile("animation process");

    anim.start();
</script>
</body>
</html>
